# ğŸ“¦ `olist_orders_dataset` æ•°æ®é›†è¯´æ˜

## ä¸€ã€ä¸»é¢˜ç®€ä»‹ï¼ˆPurposeï¼‰

æœ¬ä¸»é¢˜æ•°æ®é›†ç”¨äºæ”¯æ’‘ **Olist ç”µå•†å¹³å°çš„è®¢å•ä¸å±¥çº¦æ—¶æ•ˆåˆ†æ**ã€‚
 é€šè¿‡å¯¹è®¢å•è¡¨çš„æ¸…æ´—ä¸ç»“æ„åŒ–å¤„ç†ï¼Œæå–æ ¸å¿ƒå­—æ®µï¼Œç”¨äºï¼š

- åˆ†æè®¢å•é‡å˜åŒ–è¶‹åŠ¿ï¼›
- è®¡ç®—å±¥çº¦æ—¶æ•ˆæŒ‡æ ‡ï¼ˆå¦‚ **OTDâ‰¤5ã€P50ã€P90**ï¼‰ï¼›
- è¯„ä¼°ç‰©æµæ—¶æ•ˆå¯¹ç”¨æˆ·ä½“éªŒçš„å½±å“ã€‚

------

## äºŒã€æ•°æ®æ¥æºï¼ˆSource Tablesï¼‰

| æ¥æºè¡¨                 | è¯´æ˜                                             |
| ---------------------- | ------------------------------------------------ |
| `olist_orders_dataset` | è®¢å•ä¸»è¡¨ï¼ŒåŒ…å«è®¢å•è´­ä¹°ã€å‘è´§ã€é€è¾¾ç­‰å…³é”®æ—¶é—´ä¿¡æ¯ |

------

## ä¸‰ã€ä¸»è¦å­—æ®µè¯´æ˜ï¼ˆSchemaï¼‰

| å­—æ®µå                          | ç±»å‹     | æ¥æº    | è¯´æ˜                                                         |
| ------------------------------- | -------- | ------- | ------------------------------------------------------------ |
| `order_id`                      | string   | orders  | è®¢å•å”¯ä¸€æ ‡è¯†                                                 |
| `customer_id`                   | string   | orders  | å®¢æˆ·å”¯ä¸€æ ‡è¯†                                                 |
| `order_status`                  | string   | orders  | è®¢å•çŠ¶æ€ï¼ˆå¦‚ delivered, shipped, canceled ç­‰ï¼‰               |
| `order_purchase_timestamp`      | datetime | orders  | ç”¨æˆ·ä¸‹å•æ—¶é—´                                                 |
| `order_delivered_customer_date` | datetime | orders  | è®¢å•é€è¾¾æ—¶é—´                                                 |
| `days`                          | int      | derived | å±¥çº¦å¤©æ•° = `order_delivered_customer_date - order_purchase_timestamp` |

------

## å››ã€ETL é€»è¾‘ï¼ˆProcessing Stepsï¼‰

### ğŸ§© Python å±‚å¤„ç†

1. ä» `olist_orders_dataset` è¡¨ç­›é€‰æ—¶é—´èŒƒå›´ï¼š**2017-01 ~ 2018-08**ï¼›
2. å°†æ—¶é—´åˆ—ç¼ºå¤±å€¼ç»Ÿä¸€å¡«å……ä¸ºå ä½å€¼ `"1970-01-01 00:00:00"`ï¼ˆç”¨äºä¿æŒå­—æ®µå®Œæ•´æ€§ï¼‰ï¼›
3. è®¡ç®—å±¥çº¦å¤©æ•°å­—æ®µ `days`ï¼›
4. è¾“å‡ºæ¸…æ´—æ—¥å¿—è‡³ `etl.log`ï¼Œå¹¶ä¿å­˜å¤„ç†åçš„ç»“æœè‡³ `/processed` ç›®å½•ã€‚

### ğŸ§® SQL å±‚åˆ†æ

1. åŸºäºå¹´æœˆèšåˆè®¡ç®—è®¢å•é‡å˜åŒ–è¶‹åŠ¿ï¼›
2. è®¡ç®—å¹³å‡å±¥çº¦æ—¶é•¿ï¼›
3. è¿‡æ»¤æ¡ä»¶ï¼š
   - çŠ¶æ€ä¸º `delivered`ï¼›
   - å±¥çº¦å¤©æ•°åœ¨ **0â€“180 å¤©**ï¼›
4. è®¡ç®—å±¥çº¦æ—¶æ•ˆæŒ‡æ ‡ï¼š
   - **OTDâ‰¤5ï¼š** å±¥çº¦æ—¶é—´ â‰¤5 å¤©è®¢å•å æ¯”ï¼›
   - **P50/P90ï¼š** å±¥çº¦æ—¶é•¿ä¸­ä½æ•°ä¸ 90 åˆ†ä½æ•°ã€‚

------

## äº”ã€æ–‡ä»¶ç»“æ„ï¼ˆFile Structureï¼‰

```bash
order_analysis/
â”œâ”€â”€ notebook/          # å­˜æ”¾ ETL æµç¨‹ (etl.ipynb) ä¸æ—¥å¿—æ–‡ä»¶ (etl.log)
â”œâ”€â”€ processed/          # å­˜æ”¾æ¸…æ´—åçš„ç»“æ„åŒ–æ•°æ®
â”œâ”€â”€ raw/                # åŸå§‹æºæ•°æ®
â””â”€â”€ sql/                # å­˜æ”¾ SQL åˆ†æè„šæœ¬
```

------

## å…­ã€æˆæœè¯´æ˜ï¼ˆOutputsï¼‰

- âœ… `orders_cleaned.csv`ï¼šç»“æ„åŒ–è®¢å•æ•°æ®ï¼›
- âœ… SQL ç»Ÿè®¡ç»“æœï¼šè®¢å•é‡è¶‹åŠ¿ã€å±¥çº¦ä¸­ä½æ•°ã€P90ï¼›
- âœ… å¯è§†åŒ–ï¼šå±¥çº¦æ—¶æ•ˆè¶‹åŠ¿å›¾ã€OTDâ‰¤5 å æ¯”è¶‹åŠ¿ï¼›
- âœ… æ”¯æ’‘åˆ†æä¸»é¢˜ï¼šã€ŠOlist å¹³å°å±¥çº¦æ—¶æ•ˆåˆ†æã€‹ã€‚

------


